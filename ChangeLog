2008-04-10  Bruno Haible  <bruno@clisp.org>

	Install all auxiliary include files in a subdirectory.
	* lib/unistring/inline.h: Renamed from lib/unistring-inline.h.
	* configure.ac: Invoke AC_PROG_MKDIR_P.
	* lib/Makefile.am (nobase_include_HEADERS): Renamed from
	include_HEADERS. Change unistring-inline.h to unistring/inline.h.
	(nobase_nodist_include_HEADERS): Renamed from nodist_include_HEADERS.
	Change unistring-*.h to unistring/*.h.
	(unistring/stdbool.h): Renamed from unistring-stdbool.h. Ensure target
	directory exists.
	(unistring/stdint.h): Renamed from unistring-stdint.h. Ensure target
	directory exists.
	(unistring/localcharset.h): Renamed from unistring-localcharset.h.
	Ensure target directory exists.
	(unistring/iconveh.h): Renamed from unistring-iconveh.h Ensure target
	directory exists.
	(BUILT_SOURCES, MOSTLYCLEANFILES, CLEANFILES): Update.
	(CLEANDIRS, CLEANDIRS_NOT_IN_SRCDIR): New variables.
	(clean-local): New rule.
	* gnulib-local/lib/unicase.h.diff: Update include statements.
	* gnulib-local/lib/uniconv.h.diff: Likewise.
	* gnulib-local/lib/unictype.h.diff: Likewise.
	* gnulib-local/lib/unilbrk.h.diff: Likewise.
	* gnulib-local/lib/unistr.h.diff: Likewise.
	* gnulib-local/lib/unitypes.h.diff: Likewise.
	* gnulib-local/lib/uniwidth.h.diff: Likewise.
	* lib/unistring-notinline.h: Likewise.

2008-04-10  Bruno Haible  <bruno@clisp.org>

	* doc/uniconv.h: Document the 'enum iconv_ilseq_handler' type.

2008-04-10  Bruno Haible  <bruno@clisp.org>

	* doc/uniwbrk.texi (Word break property): Remove extra white space.

2008-04-10  Bruno Haible  <bruno@clisp.org>

	Provide an installable iconveh.h replacement.
	* gnulib-local/lib/uniconv.h.diff: Include unistring-iconveh.h instead
	of iconveh.h. Don't include striconveha.h.
	* lib/Makefile.am (nodist_include_HEADERS): Add unistring-iconveh.h.
	(unistring-iconveh.h): New rule.
	(BUILT_SOURCES, MOSTLYCLEANFILES, CLEANFILES): Update accordingly.

2008-04-10  Bruno Haible  <bruno@clisp.org>

	Provide an installable localcharset.h replacement.
	* gnulib-local/lib/uniconv.h.diff: New file.
	* gnulib-local/lib/unilbrk.h.diff: New file.
	* gnulib-local/lib/uniwidth.h.diff: New file.
	* gnulib-local/Makefile.am (EXTRA_DIST): Add them.
	* lib/Makefile.am (nodist_include_HEADERS): Add unistring-localcharset.h.
	(unistring-localcharset.h): New rule.
	(BUILT_SOURCES, MOSTLYCLEANFILES, CLEANFILES): Update accordingly.

2008-04-10  Bruno Haible  <bruno@clisp.org>

	* INSTALL (Multiple Architectures): Recommend to use
	--disable-dependency-tracking.
	Suggested by Peter O'Gorman <peter@pogma.com>.

2008-04-10  Bruno Haible  <bruno@clisp.org>

	Replace HAVE_INLINE in installed include files.
	* lib/unistring-inline.h: New file.
	* lib/unistring-notinline.h: New file.
	* autogen.sh: Postprocess unistr.h.
	* gnulib-local/lib/unistr.h.diff: Also include unistring-inline.h.
	* lib/Makefile.am (include_HEADERS): Add unistring-inline.h.
	(noinst_HEADERS): New variable.
	(AM_CPPFLAGS): Define IN_LIBUNISTRING.

2008-04-10  Bruno Haible  <bruno@clisp.org>

	Provide installable <stdbool.h>, <stdint.h> replacements.
	* autogen.sh: Pass --local-dir option to gnulib-tool.
	* configure.ac (AC_CONFIG_FILES): Add gnulib-local/Makefile.
	* Makefile.am (SUBDIRS): Add gnulib-local.
	* gnulib-local/Makefile.am: New file.
	* gnulib-local/lib/unitypes.h.diff: New file.
	* gnulib-local/lib/unistr.h.diff: New file.
	* gnulib-local/lib/unictype.h.diff: New file.
	* gnulib-local/lib/unicase.h.diff: New file.
	* lib/stdint.mini.h: New file, a reduced version of gnulib's
	lib/stdint.in.h.
	* lib/Makefile.am (nodist_include_HEADERS): New variable.
	(unistring-stdbool.h, unistring-stdint.h): New rules.
	(BUILT_SOURCES, MOSTLYCLEANFILES, CLEANFILES): Update accordingly.
	(EXTRA_DIST): Add stdint.mini.h.

2008-04-09  Bruno Haible  <bruno@clisp.org>

	Build and install documentation.
	* autogen.sh: Fetch a recent copy of texinfo.tex.
	* configure.ac (TEXI2DVI, DVIPS, PERL): New substituted variables.
	(AC_CONFIG_FILES): Add doc/Makefile.
	* m4/fixautomake.m4: New file, from GNU gettext.
	* Makefile.am (SUBDIRS): Add doc.
	(EXTRA_DIST): Add build-aux/texi2html.
	* doc/Makefile.am: New file.
	* doc/libunistring.texi: Set document encoding to UTF-8.
	(arrow): Add a fallback definition for texi2html.

	Put the table of contents at the beginning, not at the end.
	* build-aux/texi2html (INLINE_CONTENTS): Set to 1.
	(THISVERSION): Append an 'a'.

	* build-aux/texi2html: New file, from texinfo-1.78.

2008-04-06  Bruno Haible  <bruno@clisp.org>

	Add support for checking with valgrind.
	* build-aux/run-test: New file.
	* Makefile.am (EXTRA_DIST): Add it.
	* tests/Makefile.am (CHECKER, CHECKER_END_OF_COMMENTS): New variables.
	(TESTS_ENVIRONMENT): Add a run-test invocation.
	* HACKING: Mention how to use valgrind.

2008-04-06  Bruno Haible  <bruno@clisp.org>

	* Makefile.am (EXTRA_DIST): Add version.sh, DEPENDENCIES, HACKING,
	autogen.sh, build-aux/fixaclocal.
	* version.sh: New file.

2008-04-05  Bruno Haible  <bruno@clisp.org>

	Allow building as a shared library on AIX.
	* lib/Makefile.am (libunistring_la_LDFLAGS): Add -no-undefined flag
	and INTL_MACOSX_LIBS (for MacOS X).

2008-04-05  Bruno Haible  <bruno@clisp.org>

	Use libtool versioning.
	* lib/Makefile.am (LTV_CURRENT, LTV_REVISION, LTV_AGE): New variables.
	(libunistring_la_LDFLAGS): Pass -version-info option.

2008-04-05  Bruno Haible  <bruno@clisp.org>

	* gnulib-m4/gnulib-cache.m4: New file, generated by gnulib-tool.

	* autogen.sh: New file.
	* configure.ac: New file.
	* build-aux/fixaclocal: New file, from GNU gettext.
	* Makefile.am: New file.
	* lib/Makefile.am: New file.
	* tests/Makefile.am: New file.

2008-04-05  Bruno Haible  <bruno@clisp.org>

	* INSTALL: Renamed from INSTALL.generic. Add section about
	prerequisites,

2008-04-05  Bruno Haible  <bruno@clisp.org>

	* doc/*.texi: Add index entries.

2008-04-05  Bruno Haible  <bruno@clisp.org>

	* doc/unistr.texi (Elementary string functions): Document
	u{8,16,32}_cmp2.

2008-04-05  Bruno Haible  <bruno@clisp.org>

	* doc/libunistring.texi (func, posixfunc): New macros.
	Use them where appropriate.
	* doc/unistr.texi: Likewise.

2008-04-05  Bruno Haible  <bruno@clisp.org>

	* doc/libunistring.texi: Complete the detailmenu.

2008-04-05  Bruno Haible  <bruno@clisp.org>

	* doc/libunistring.texi: New file.
	* doc/unitypes.texi: New file, based on gnulib/lib/unitypes.h.
	* doc/unistr.texi: New file, based on gnulib/lib/unistr.h.
	* doc/uniconv.texi: New file, based on gnulib/lib/uniconv.h.
	* doc/unistdio.texi: New file, based on gnulib/lib/unistdio.h.
	* doc/uniname.texi: New file, based on gnulib/lib/uniname.h.
	* doc/unictype.texi: New file, based on gnulib/lib/unictype.h.
	* doc/uniwidth.texi: New file, based on gnulib/lib/uniwidth.h.
	* doc/uniwbrk.texi: New file, based on gnulib/lib/uniwbrk.h.
	* doc/unilbrk.texi: New file, based on gnulib/lib/unilbrk.h.
	* doc/uninorm.texi: New file, based on gnulib/lib/uninorm.h.
	* doc/unicase.texi: New file, based on gnulib/lib/unicase.h.
	* doc/uniregex.texi: New file.
	* doc/gpl.texi: New file, from gnulib.
	* doc/lgpl.texi: New file, from gnulib.
	* doc/fdl.texi: New file, from gnulib.

2008-03-14  Bruno Haible  <bruno@clisp.org>

	* INSTALL.generic: New file, from gnulib/doc/INSTALL.UTF-8 with an
	added paragraph mentioning --with-libiconv-prefix.

	* COPYING.LIB: New file, from gnulib/doc/COPYING.LESSERv3.
	* COPYING: New file, from gnulib/doc/COPYINGv3.

	* m4/libtool.m4: New file, from libtool-2.2.6, with modifications:
	2008-04-06  Bruno Haible  <bruno@clisp.org>
		* m4/libtool.m4 (LT_INIT): When setting LIBTOOL, use
		CONFIG_SHELL; don't assume that the Makefile.in will set SHELL
		to ${CONFIG_SHELL}.
	* m4/ltoptions.m4: New file, from libtool-2.2.6.
	* m4/ltsugar.m4: Likewise.
	* m4/ltversion.m4: Likewise.
	* m4/lt~obsolete.m4: Likewise.
	* build-aux/ltmain.sh: New file, from libtool-2.2.6, with
	modifications.
	2008-09-28  Bruno Haible  <bruno@clisp.org>
		* build-aux/ltmain.sh (func_emit_cwrapperexe_src): On mingw,
		preprocess the argument vector through prepare_spawn.

	* build-aux/config.guess: New file, from gnulib, version 2009-02-03.
	* build-aux/config.sub: Likewise.

	* README: New file.
	* AUTHORS: New file.
	* DEPENDENCIES: New file.
	* BUGS: New file.
	* HACKING: New file.
	* THANKS: New file.
	* NEWS: New file.

